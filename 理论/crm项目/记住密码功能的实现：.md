# 记住密码功能的实现：

   访问：login.jsp---->后台：.html：如果上次记住密码，自动填上账号和密码;否则，不填。
                             

## 如何判断上次是否记住密码？

​			     --在Handler方法中判断到登录成功时，判断是否需要记住密码：如果需要记住密码，则往浏览器写cookie（cookie的值必须是该用户的loginAct和loginPwd）；否则，删除 cookie。

​			     --下次登录时，判断该用户有没有cookie：如果有，则自动填写账号和密码；否则，不写。
​			                     而且填写的是cookie的值.

​                  ----->浏览器显示



往浏览器写cookie：

```
 			   ...
 			   //登录成功
                returnObject.setCode(Contants.RETURN_OBJECT_CODE_SUCCESS);

                //把user保存到session中
                session.setAttribute(Contants.SESSION_USER,user);

   			   //如果需要记住密码，则往外写cookie
                if("true".equals(isRemPwd)){
                    Cookie c1=new Cookie("loginAct",user.getLoginAct());
                    c1.setMaxAge(10*24*60*60); //设置cookie的过期时间
                    response.addCookie(c1);
                    Cookie c2=new Cookie("loginPwd",user.getLoginPwd());
                    c2.setMaxAge(10*24*60*60);
                    response.addCookie(c2);
                }else{
                    //通过覆盖的方式实现把浏览器上存着的没有过期cookie删除
                    Cookie c1=new Cookie("loginAct","1");
                    c1.setMaxAge(0);//设置cookie的过期时间为0，意味着已经过期
                    response.addCookie(c1);
                    Cookie c2=new Cookie("loginPwd","1");
                    c2.setMaxAge(0);
                    response.addCookie(c2);
                }
                
                ...
                
```

获取cookie：
  1,使用java代码获取cookie：
    Cookie[] cs=request.getCookies();
    for(Cookie c:cs){
	if(c.getName().equals("loginAct")){
	    String loginAct=c.getValue();
	}else if(c.getName().equals("loginPwd")){
	    String loginPwd=c.getValue();
	}
    }

 2,使用EL表达式获取cookie：
    ${cookie.loginAct.value}    ：会到请求中找name属性值为loginAct的cookie。这个el表达式不会去作用域中找，因为指明了是找cookie。如果找不到，就返回空，不会去作用域里面找。找到了就获取value值。

​    ${cookie.loginPwd.value}